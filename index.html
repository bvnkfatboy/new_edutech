<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>OAR สำนักวิทยบริการ มหาวิทยาลัยอุบลราชธานี</title>
    <link rel="icon" href="https://www.oar.ubu.ac.th/new/img/favicon.png">
    <script src="dist/js/fetchAPI.js"></script>

    <link rel="stylesheet" href="https://www.oar.ubu.ac.th/new/css/bootstrap.min.css">
    <link rel="stylesheet" href="dist/css/GlobalStyle.css">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.7/css/all.css">
    <link rel="stylesheet" href="https://www.oar.ubu.ac.th/new/css/owl.carousel.min.css">

</head>

<body>
    <!-- Top content -->
    <div class="top-content">
        <!-- Carousel -->
        <div id="oar-slide" class="carousel slide" data-ride="carousel">


            <ol class="carousel-indicators" id="carousel-indicators"></ol>
            <div class="carousel-inner" id="carousel-inner"></div>

            <!-- <ol class="carousel-indicators">
                <li data-target="#oar-slide" data-slide-to="0" class="active"></li>
                <li data-target="#oar-slide" data-slide-to="1"></li>
                <li data-target="#oar-slide" data-slide-to="2"></li>
                <li data-target="#oar-slide" data-slide-to="3"></li>
            </ol>

            <div class="carousel-inner">
                <div class="carousel-item active">
                    <img src="dist\img\user\Web 28.jpg" class="d-block w-100" alt="slide-img-1">
                </div>
                <div class="carousel-item">
                    <img src="dist\img\user\Web 2.jpg" class="d-block w-100" alt="slide-img-2">
                </div>
                <div class="carousel-item">
                    <img src="dist\img\user\Web 21.jpg" class="d-block w-100" alt="slide-img-3">
                </div>
                <div class="carousel-item">
                    <img src="dist\img\user\Web 11.jpg" class="d-block w-100" alt="slide-img-4">
                </div>
            </div> -->

            <a class="carousel-control-prev" href="#oar-slide" role="button" data-slide="prev">
                <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                <span class="sr-only">Previous</span>
            </a>
            <a class="carousel-control-next" href="#oar-slide" role="button" data-slide="next">
                <span class="carousel-control-next-icon" aria-hidden="true"></span>
                <span class="sr-only">Next</span>
            </a>
        </div>
        <!-- End carousel -->
    </div>
    <br>
    <div class="tech-body container mx-auto">
        <div class="tech-top-icon">
            <div class="tech-top-title d-flex">
                <object data="dist/img/fi-sr-building.svg" width="24px" height="24px"></object>
                <p class="tech-text-header">บริการฝ่ายเทคโนโลยีทางการศึกษา</p>
            </div>

            <div class="tech-top-main-icon d-block mx-auto">
                <div class="container">
                    <div class="row justify-content-center">
                        <div class="col-6 col-sm-3 mb-3 tech-card">
                            <a href="personnel.html" class="d-flex flex-column align-items-center">
                                <object data="dist/img/icon/icon1.svg" type="image/svg+xml" width="99px" height="99px"
                                    style="z-index:-100;" class="oar-logo"></object>
                                <div class="tech-top-main-icon-title">บุคลากร</div>
                            </a>
                        </div>
                        <div class="col-6 col-sm-3 mb-3 tech-card">
                            <a href="media_learning.html" class="d-flex flex-column align-items-center">
                                <object data="dist/img/icon/icon2.svg" type="image/svg+xml" width="99px" height="99px"
                                    style="z-index:-100;"></object>
                                <div class="tech-top-main-icon-title">พัฒนาสื่อและนวัตกรรม
                                    <br>การเรียนรู้</div>
                            </a>

                        </div>
                        <div class="col-6 col-sm-3 mb-3 tech-card">
                            <a href="sevice_tech.html" class="d-flex flex-column align-items-center">
                                <object data="dist/img/icon/icon3.svg" type="image/svg+xml" width="99px" height="99px"
                                    style="z-index:-100;"></object>
                                <div class="tech-top-main-icon-title">บริการโสตทัศนูปกรณ์
                                    <br>และทรัพยากรการเรียนรู้</div>
                            </a>

                        </div>
                        <div class="col-6 col-sm-3 mb-3 tech-card">
                            <a href="ita.html" class="d-flex flex-column align-items-center">
                                <object data="dist/img/icon/icon4.svg" type="image/svg+xml" width="99px" height="99px"
                                    style="z-index:-100;"></object>
                                <div class="tech-top-main-icon-title">ITA</div>
                            </a>

                        </div>
                    </div>
                </div>
            </div>
        </div>
        <hr>
        <div class="tech-slide-image mt-5">
            <div class="tech-top-title d-flex">
                <object data="dist/img/fi-sr-picture.svg" width="24px" height="24px"></object>
                <p class="tech-text-header">คลังภาพ</p>
                <div class="info-more">
                    <a href="more_img.html" class="btn btn-primary btn-custom-more">ดูเพิ่มเติม</a>
                </div>
            </div>
            <div class="carousel-wrap">
                <div class="owl-carousel" id="image-carousel-1">
                </div>
            </div>

        </div>
        <hr><br>
        <div class="tech-slide-blog">
            <div class="tech-top-title d-flex">
                <object data="dist/img/fi-sr-document.svg" width="24px" height="24px"></object>
                <p class="tech-text-header">บทความ</p>
                <div class="info-more">
                    <a href="more_artical.html" class="btn btn-primary btn-custom-more">ดูเพิ่มเติม</a>
                </div>
            </div>
            <div class="carousel-wrap">
                <div class="owl-carousel" id="article-carousel-1">
                    <!-- <div class="item">
                        <a href="#">
                            <img src="http://placehold.it/150x150">
                            <p class="item-text">โลโก้สำนักวิทยบริการ มหาวิทยาลัยอุบลราชธานี (UBU OAR LOGO)</p>
                        </a>
                    </div>
                    <div class="item">
                        <a href="#">
                            <img src="http://placehold.it/150x150">
                            <p class="item-text">โลโก้สำนักวิทยบริการ มหาวิทยาลัยอุบลราชธานี (UBU OAR LOGO)</p>
                        </a>
                    </div>
                    <div class="item">
                        <a href="#">
                            <img src="http://placehold.it/150x150">
                            <p class="item-text">โลโก้สำนักวิทยบริการ มหาวิทยาลัยอุบลราชธานี (UBU OAR LOGO)</p>
                        </a>
                    </div>
                    <div class="item">
                        <a href="#">
                            <img src="http://placehold.it/150x150">
                            <p class="item-text">โลโก้สำนักวิทยบริการ มหาวิทยาลัยอุบลราชธานี (UBU OAR LOGO)</p>
                        </a>
                    </div>
                    <div class="item">
                        <a href="#">
                            <img src="http://placehold.it/150x150">
                            <p class="item-text">โลโก้สำนักวิทยบริการ มหาวิทยาลัยอุบลราชธานี (UBU OAR LOGO)</p>
                        </a>
                    </div>
                    <div class="item">
                        <a href="#">
                            <img src="http://placehold.it/150x150">
                            <p class="item-text">โลโก้สำนักวิทยบริการ มหาวิทยาลัยอุบลราชธานี (UBU OAR LOGO)</p>
                        </a>
                    </div>
                    <div class="item">
                        <a href="#">
                            <img src="http://placehold.it/150x150">
                            <p class="item-text">โลโก้สำนักวิทยบริการ มหาวิทยาลัยอุบลราชธานี (UBU OAR LOGO)</p>
                        </a>
                    </div> -->
                </div>
            </div>
        </div>
        <hr><br>
        <div class="tech-slide-video">
            <div class="tech-top-title d-flex" style="margin-left: 0px !important;">
                <object data="dist/img/fi-sr-play-alt.svg" width="24px" height="24px"></object>
                <p class="tech-text-header">VIDEO</p>
            </div>
            <div class="carousel-wrap">
                <div class="owl-carousel" id="video-carousel-1">
                </div>
            </div>
        </div>


    </div>

    <script src="https://www.oar.ubu.ac.th/new/js/jquery-1.12.1.min.js"></script>
    <script src="https://www.oar.ubu.ac.th/new/js/popper.min.js"></script>
    <script src="https://www.oar.ubu.ac.th/new/js/bootstrap.min.js"></script>
    <script src="https://www.oar.ubu.ac.th/new/js/owl.carousel.min.js"></script>
    <script src="dist/js/tech_script.js"></script>


    <script>
        document.addEventListener('DOMContentLoaded', function () {
            fetch('http://localhost/edu_tech_backend/component/API/getAPI.php?database=carousal_img')
                .then(response => response.json())
                .then(data => {
                    // สร้าง indicators
                    const indicatorsContainer = document.getElementById('carousel-indicators');
                    data.forEach((item, index) => {
                        const li = document.createElement('li');
                        li.setAttribute('data-target', '#oar-slide');
                        li.setAttribute('data-slide-to', index.toString());
                        if (index === 0) {
                            li.classList.add('active');
                        }
                        indicatorsContainer.appendChild(li);
                    });

                    // สร้าง carousel items
                    const carouselInnerContainer = document.getElementById('carousel-inner');
                    data.forEach((item, index) => {
                        const div = document.createElement('div');
                        div.classList.add('carousel-item');
                        if (index === 0) {
                            div.classList.add('active');
                        }
                        const img = document.createElement('img');
                        img.src = item.img_resource;
                        img.alt = `slide-img-${index + 1}`;
                        img.classList.add('d-block', 'w-100');
                        div.appendChild(img);
                        carouselInnerContainer.appendChild(div);
                    });
                })
                .catch(error => console.error('Error:', error));

            function fetchDataAndCreateCarousel(database, carouselId, linkProperty, titleProperty,
                imgResourceProperty) {
                const apiUrl =
                `http://localhost/edu_tech_backend/component/API/getAPI.php?database=${database}`;

                fetch(apiUrl)
                    .then(response => response.json())
                    .then(data => {
                        const owlSlide = document.getElementById(carouselId);

                        data.forEach(item => {
                            const carouselItem = document.createElement('div');
                            carouselItem.className = 'item';

                            const link = document.createElement('a');
                            link.href = item[linkProperty];

                            const img = document.createElement('img');
                            img.src = item[imgResourceProperty];
                            img.alt = item[titleProperty];

                            const text = document.createElement('p');
                            text.className = 'item-text';
                            text.textContent = item[titleProperty];

                            link.appendChild(img);
                            link.appendChild(text);
                            carouselItem.appendChild(link);
                            owlSlide.appendChild(carouselItem);
                        });

                        // Initialize Owl Carousel
                        $(`#${carouselId}`).owlCarousel({
                            loop: true,
                            margin: 10,
                            nav: true,
                            navText: [
                                "<i class='fas fa-chevron-circle-left'></i>",
                                "<i class='fas fa-chevron-circle-right'></i>"
                            ],
                            autoplay: true,
                            autoplayHoverPause: true,
                            responsiveClass: true,
                            responsive: {
                                0: {
                                    items: 1
                                },
                                500: {
                                    items: 2
                                },
                                600: {
                                    items: 3
                                },
                                1000: {
                                    items: 4
                                }
                            }
                        });
                    })
                    .catch(error => console.error(`Error fetching ${database} data:`, error));
            }

            // Call the function for each database
            fetchDataAndCreateCarousel('gallery', 'image-carousel-1', 'img_link', 'img_title', 'img_resource');
            fetchDataAndCreateCarousel('article', 'article-carousel-1', 'article_link', 'article_title','img_resource');
            fetchDataAndCreateCarousel('video', 'video-carousel-1', 'video_link', '','img_resource');
        });
    </script>

</body>

</html>